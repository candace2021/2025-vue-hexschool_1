import{c as o,o as i,d as b,a as e,f as N,t as s,w as D,g as V,F as v,r as h,h as $,i as k,b as g,e as f,v as F}from"./index-tFy4A4Tx.js";const w=["onClick"],L=["onUpdate:modelValue"],I=["value"],S={__name:"CartList",props:["tableData"],emits:["deleteFn"],setup(m,{emit:u}){const c=u,r=l=>{c("deleteFn",l)};return(l,p)=>(i(!0),o(v,null,b(m.tableData,n=>(i(),o("tr",{key:n.id},[e("td",null,[e("a",{href:"#",onClick:N(d=>r(n),["prevent"])},"X",8,w)]),e("td",null,s(n.name),1),e("td",null,s(n.description),1),e("td",null,[D(e("select",{name:"",id:"","onUpdate:modelValue":d=>n.num=d},[(i(),o(v,null,b(10,d=>e("option",{key:d,value:d},s(d),9,I)),64))],8,L),[[V,n.num]])]),e("td",null,s(n.price),1),e("td",null,s(n.price*n.num),1)]))),128))}},B={__name:"OrderList",props:["orderData"],setup(m){return(u,c)=>(i(!0),o(v,null,b(m.orderData,r=>(i(),o("tr",{key:r.id},[e("td",null,s(r.name),1),e("td",null,s(r.num),1),e("td",null,s(r.price*r.num),1)]))),128))}},E=["onClick"],M={class:"title"},O={class:"name"},T={class:"price"},U={class:"describe"},Q={__name:"ProductList",props:["datas"],emits:["addCart"],setup(m,{emit:u}){const c=u,r=l=>{c("addCart",l)};return(l,p)=>(i(!0),o(v,null,b(m.datas,n=>(i(),o("li",{key:n.id,class:"navList",onClick:d=>r(n)},[e("div",M,[e("div",O,s(n.name),1),e("div",T,"$"+s(n.price),1)]),e("div",U,s(n.description),1)],8,E))),128))}},A={class:"topContent"},P={class:"navSide"},X={class:"product"},j={key:0},q={key:1},z={key:0,class:"content"},G={class:"sum"},H={class:"textarea"},J={class:"bottomContent"},K={key:0,class:"noData"},R={key:1,class:"content"},W={class:"textarea"},Y={class:"sum"},ee={__name:"ThirdView",setup(m){const u=h(""),c=h(""),r=[{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50,num:1},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45,num:1},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55,num:1},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45,num:1},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50,num:1},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45,num:1},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55,num:1},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60,num:1}],l=h([]),p=h([]),n=a=>{l.value.filter(_=>_.id==a.id).length==0?l.value.push({...a}):alert("已加入購物車，請直接調整數量")},d=a=>{const t=l.value.findIndex(_=>_.id==a.id);l.value.splice(t,1)},y=$(()=>{let a=0;return l.value.forEach(t=>{a+=Number(t.price)*Number(t.num)}),a}),C=()=>{p.value=l.value,c.value=u.value,l.value=[],u.value=""},x=$(()=>{let a=0;return p.value.forEach(t=>{a+=Number(t.price)*Number(t.num)}),a});return(a,t)=>(i(),o(v,null,[e("div",A,[e("div",P,[e("ul",null,[k(Q,{datas:r,onAddCart:n})])]),e("div",X,[e("table",null,[t[2]||(t[2]=e("thead",null,[e("tr",null,[e("th",null,"操作"),e("th",null,"品項"),e("th",null,"描述"),e("th",null,"數量"),e("th",null,"單價"),e("th",null,"小計")])],-1)),l.value.length!=0?(i(),o("tbody",j,[k(S,{tableData:l.value,onDeleteFn:d},null,8,["tableData"])])):(i(),o("tbody",q,t[1]||(t[1]=[e("tr",{class:"noData"},[e("td",{colspan:"6"},[e("span",null,"請選擇商品")])],-1)])))]),l.value.length!=0?(i(),o("div",z,[e("div",G,[t[3]||(t[3]=f(" 總計: ",-1)),e("span",null,"$"+s(y.value),1)]),e("div",H,[D(e("textarea",{name:"",id:"",placeholder:"備註","onUpdate:modelValue":t[0]||(t[0]=_=>u.value=_)},null,512),[[F,u.value]])]),e("div",{class:"sent"},[e("button",{type:"button",onClick:C},"送出")])])):g("",!0)])]),e("div",J,[p.value.length==0?(i(),o("div",K,"尚未建立訂單")):(i(),o("div",R,[t[6]||(t[6]=e("div",{class:"title"},"訂單",-1)),e("table",null,[t[4]||(t[4]=e("thead",null,[e("tr",null,[e("th",null,"品項"),e("th",null,"數量"),e("th",null,"小計")])],-1)),e("tbody",null,[k(B,{orderData:p.value},null,8,["orderData"])])]),e("div",W,"備註: "+s(c.value),1),e("div",Y,[t[5]||(t[5]=f(" 總計: ",-1)),e("span",null,"$"+s(x.value),1)])]))])],64))}};export{ee as default};
